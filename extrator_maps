import googlemaps

# API
API_KEY = 'YOUR_API_KEY'

# Inicialize o cliente da API
gmaps = googlemaps.Client(key=API_KEY)

# Realiza uma busca de lugares
places_result = gmaps.places_nearby(location='-23.550520, -46.633308',  # Coordenadas de São Paulo
                                    radius=1500,  # Raio de busca em metros
                                    type='market')  # Tipo de lugar

# Exibe resultados
for place in places_result['results']:
    print(f"Nome: {place['name']}")
    print(f"Endereço: {place.get('vicinity', 'Não disponível')}")
    print(f"Rating: {place.get('rating', 'Não disponível')}")
    print("-" * 40)

# Paginacao para mais resultados
while 'next_page_token' in places_result:
    token = places_result['next_page_token']
    time.sleep(2)  # Aguarda antes de solicitar a próxima página
    places_result = gmaps.places_nearby(location='-23.550520, -46.633308',
                                        radius=1500,
                                        type='market',
                                        page_token=token)
    for place in places_result['results']:
        print(f"Nome: {place['name']}")
        print(f"Endereço: {place.get('vicinity', 'Não disponível')}")
        print(f"Rating: {place.get('rating', 'Não disponível')}")
        print("-" * 40)
