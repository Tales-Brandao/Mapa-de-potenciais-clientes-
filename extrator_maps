from selenium import webdriver
from selenium.webdriver.common.keys import Keys
import time

# Inicializa o navegador (você precisa ter o ChromeDriver instalado)
driver = webdriver.Chrome(executable_path="caminho_para_o_chromedriver.exe")

# Abre o Google Maps no centro de São Paulo
url_sao_paulo = "https://www.google.com/maps/place/S%C3%A3o+Paulo,+SP"
driver.get(url_sao_paulo)

# Realiza a busca pela palavra-chave "mercado"
palavra_chave = "mercado"
search_box = driver.find_element_by_name("q")
search_box.send_keys(palavra_chave)
search_box.send_keys(Keys.RETURN)

# Aguarda um tempo para carregar os resultados
time.sleep(5)

# Obtém todos os resultados da página atual
resultados = driver.find_elements_by_css_selector(".section-result-title span")
for resultado in resultados:
    print(resultado.text)

# Navega para a próxima página de resultados (se houver)
try:
    proxima_pagina = driver.find_element_by_css_selector(".n7lv7yjyC35__button-next-icon")
    proxima_pagina.click()
except:
    print("Não há mais páginas de resultados.")

# Fecha o navegador
driver.quit()
